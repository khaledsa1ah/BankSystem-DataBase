CREATE TABLE Bank
(
  Name VARCHAR(50) NOT NULL,
  Code VARCHAR(50) NOT NULL,
  Address VARCHAR(50) NOT NULL,
  PRIMARY KEY (Name)
);

CREATE TABLE Branch
(
  Address VARCHAR(50) NOT NULL,
  Bnumber VARCHAR(50) NOT NULL,
  Name VARCHAR(50) NOT NULL,
  PRIMARY KEY (Bnumber),
  FOREIGN KEY (Name) REFERENCES Bank(Name)
);

CREATE TABLE Customer
(
  SNN VARCHAR(50) NOT NULL,
  Name VARCHAR(50) NOT NULL,
  Address VARCHAR(50) NOT NULL,
  PRIMARY KEY (SNN)
);

CREATE TABLE Account
(
  AccNumber INT NOT NULL,
  Balance DECIMAL NOT NULL,
  Type VARCHAR(50) NOT NULL,
  SNN VARCHAR(50) NOT NULL,
  PRIMARY KEY (AccNumber),
  FOREIGN KEY (SNN) REFERENCES Customer(SNN)
);

CREATE TABLE Loan
(
  Lnumber VARCHAR(50) NOT NULL,
  Type VARCHAR(50) NOT NULL,
  Amount DECIMAL NOT NULL,
  SNN VARCHAR(50) NOT NULL,
  Bnumber VARCHAR(50) NOT NULL,
  PRIMARY KEY (Lnumber),
  FOREIGN KEY (SNN) REFERENCES Customer(SNN),
  FOREIGN KEY (Bnumber) REFERENCES Branch(Bnumber)
);

CREATE TABLE has
(
  Bnumber VARCHAR(50) NOT NULL,
  SNN VARCHAR(50) NOT NULL,
  PRIMARY KEY (Bnumber, SNN),
  FOREIGN KEY (Bnumber) REFERENCES Branch(Bnumber),
  FOREIGN KEY (SNN) REFERENCES Customer(SNN)
);

CREATE TABLE Customer_Phone
(
  Phone VARCHAR(50) NOT NULL,
  SNN VARCHAR(50) NOT NULL,
  PRIMARY KEY (Phone, SNN),
  FOREIGN KEY (SNN) REFERENCES Customer(SNN)
);